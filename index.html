<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<link rel="stylesheet" href="style.css">

</head>
<body>

<div class="container-fluid">
    <div class="row">
        <div class="col-4">
          <div class="text-center">
            <img id ="image-src" src="./image/mb1.png" class="img-fluid"/>
			 <button type="button" id='toggle' class="btn btn-success btn-lg">Start</button>
          </div>     
        </div>
    </div>
</div>

</body>

<script>
var element = document.getElementById("image-src");
console.log('src', element.src);
var myInterval;
var audioInterval;
	
$(document).ready(function(){
 console.log("start");

 $('#toggle').on('click', function () {
 

	
	myImages = [
		"./image/mb1.png",
		"./image/mb2.png",
		"./image/mb3.png",
		"./image/mb4.png",
		"./image/mb5.png",
		"./image/mb6.png"
	];
	
	myImagesQn = [
		"./image/mb1_qn.png",
		"./image/mb2_qn.png",
		"./image/mb3_qn.png",
		"./image/mb4_qn.png",
		"./image/mb5_qn.png",
		"./image/mb6_qn.png"
	];
	
	function changeImg(element,myImages, action)
	{
	  var audio = new Audio('audio/tock.wav');
	  if (action === 1){
	  
		audioInterval = setInterval(function()
		{
			audio.play();
		},5);

		myInterval = setInterval(function()
		{
			var randomNum = Math.floor(Math.random() * myImages.length);
			//console.log(randomNum);
			element.src = myImages[randomNum];
		},300);
	  }
	  else{
			var audio1 = new Audio('audio/tata.wav');
			clearInterval(myInterval);
			clearInterval(audioInterval);
			var randomNum1 = Math.floor(Math.random() * myImagesQn.length);
			audio1.play();
			//console.log('stop', randomNum1);
			element.src = myImagesQn[randomNum1];		
		}
	}
 
  var text=$('#toggle').text();
  if(text === "Start"){
    $(this).html('Stop');
	$(this).css("background-color","#d9534f"); 
	changeImg(element,myImages, 1);
  } else{
    $(this).text('Start');
	$(this).css("background-color","green"); 
	changeImg(element,myImages, 0);
 }
});
});
</script>
</html>


